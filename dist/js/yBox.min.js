/*! yBox - v1.2 - 2021-07-06
* By Yuval Ashkenazi
* https://github.com/yuval123123/yBox-jQuery */

function yBox(e,o){var t="",a=!0;if(void 0===o&&(a=!1),a){t=o.data("ybox-class")||"";var r=o.attr("href")}var s='<div class="yBoxOverlay">\t\t\t\t\t<div class="yBoxFrame '+t+'">\t\t\t\t\t\t<div class="insertYboxAjaxHere"></div>\t\t\t\t\t\t<button type="button" class="closeYbox" title="Close"></button>\t\t\t\t\t</div>\t\t\t\t</div>';$(".yBoxFrame").length?$(".yBoxFrame.yBoxImgWrap").length?($(".yBoxFramePlaceHolder").length&&($(".yBoxFramePlaceHolder").before($(".insertYboxAjaxHere").html()),$(".yBoxFramePlaceHolder").remove()),$(".insertYboxAjaxHere").html(""),insertPopHtml(o,a,r,e)):$(".insertYboxAjaxHere").animate({opacity:0},function(){var t=$(this);setTimeout(function(){$(".yBoxFramePlaceHolder").length&&($(".yBoxFramePlaceHolder").before($(".insertYboxAjaxHere").html()),$(".yBoxFramePlaceHolder").remove()),t.html(""),insertPopHtml(o,a,r,e),$(".insertYboxAjaxHere").animate({opacity:1})},200)}):($("body").append(s),insertPopHtml(o,a,r,e),setTimeout(function(){$(".yBoxOverlay").addClass("active")},200))}function insertPopHtml(e,o,t,a){if(o)if(e.hasClass("yBox_iframe")){if($(".yBoxFrame").addClass("yBoxIframeWrap"),t.toLowerCase().indexOf("youtube")>-1||t.toLowerCase().indexOf("youtu.be")>-1){var r=t.replace(/^[^v]+v.(.{11}).*/,"$1").replace("https://youtu.be/","").replace(/.*youtube.com\/embed\//,"");t="https://www.youtube.com/embed/"+r+"?wmode=transparent&rel=0&autoplay=1"}$(".yBoxFrame .insertYboxAjaxHere").html('<iframe src="'+t+'" frameborder="0" wmode="Opaque" allow="autoplay" allowfullscreen class="yBoxIframe"></iframe>')}else if(e.hasClass("yBox_ajax"))$.get(t,function(e){$(".insertYboxAjaxHere").html(e)});else if(-1==t.indexOf("#")){$(".yBoxFrame").addClass("yBoxImgWrap"),$(".insertYboxAjaxHere").append('<div style="text-align:center;position:absolute;right:0;left:0;top:0;bottom:0;"><div class="yBoxLoader"></div></div>');var s=new Image;s.src=t,s.className="yBoxImg",s.onload=function(){var o=e.data("ybox-group"),a=e.data("ybox-alt")||"",r='<div class="yBoxImgZoom"><img src="'+t+'" alt="'+a+'" class="yBoxImg" /></div>';o&&$('.yBox[data-ybox-group="'+o+'"]').length>1&&(r='<button type="button" class="yBoxNextImg" title="Next"></button>'+r+'<button type="button" class="yBoxPrevImg" title="Prev"></button>'),$(".insertYboxAjaxHere").html(r),window.screen.width<=767&&zoom({zoom:"yBoxImgZoom"}),$(".yBoxNextImg").click(function(o){myNextPopup(e)}),$(".yBoxPrevImg").click(function(o){myPrevPopup(e)})}}else $(t).after('<div class="yBoxFramePlaceHolder"></div>'),$(t).appendTo(".insertYboxAjaxHere");else $(".insertYboxAjaxHere").html(a);setTimeout(function(){e.data("focus")?$(".insertYboxAjaxHere ."+e.data("focus")).focus():$(".insertYboxAjaxHere a, .insertYboxAjaxHere input, .insertYboxAjaxHere select:not(.select2), .insertYboxAjaxHere .select2-selection, .insertYboxAjaxHere button").first().focus()},500)}function myNextPopup(e){var o,t=e.data("ybox-group"),a=!1;$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').each(function(r){a||$(this).attr("href")==e.attr("href")&&(a=!0,o=$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(r+1).length?$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(r+1):$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(0))}),o&&($("yBox").data("focus",""),o.data("focus","yBoxNextImg"),o.trigger("click"))}function myPrevPopup(e){var o,t=e.data("ybox-group");$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').each(function(a){if($(this).attr("href")==e.attr("href"))if($('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(a-1).length)o=$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(a-1);else{var r=$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').length;o=$('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(r-1)}}),o&&($("yBox").data("focus",""),o.data("focus","yBoxPrevImg"),o.trigger("click"))}$("body").on("click",".yBox",function(e){e.preventDefault(),$(".yBox.yBoxFocus").removeClass("yBoxFocus"),$(this).addClass("yBoxFocus"),yBox("",$(this))}),$("body").on("click",".yBoxOverlay",function(e){"yBoxOverlay active"!=e.target.className&&"closeYbox"!=e.target.className||($(".yBoxOverlay").removeClass("active"),$(".yBoxFocus").focus(),setTimeout(function(){$(".yBoxFramePlaceHolder").length&&($(".yBoxFramePlaceHolder").before($(".insertYboxAjaxHere").html()),$(".yBoxFramePlaceHolder").remove()),$(".yBoxOverlay").remove()},600))}),$(document).keyup(function(e){39===e.keyCode&&myPrevPopup($('.yBox[href="'+$(".yBoxImg").attr("src")+'"]')),37===e.keyCode&&myNextPopup($('.yBox[href="'+$(".yBoxImg").attr("src")+'"]')),27===e.keyCode&&$(".closeYbox").trigger("click")});